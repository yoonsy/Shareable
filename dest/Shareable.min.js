/*! Shareable - v0.7.0 - 2014-10-11 */!function(a){var b={};a.kakao=a.kakao||b;var c=navigator.userAgent.toLocaleLowerCase();c.search("android")>-1?(b.os="android",c.search("chrome")>-1&&(b.browser="android+chrome")):(c.search("iphone")>-1||c.search("ipod")>-1||c.search("ipad")>-1)&&(b.os="ios");var d={talk:{base_url:"kakaolink://sendurl?",apiver:"2.0.1",store:{android:"market://details?id=com.kakao.talk",ios:"http://itunes.apple.com/app/id362057947"},"package":"com.kakao.talk"},story:{base_url:"storylink://posting?",apiver:"1.0",store:{android:"market://details?id=com.kakao.story",ios:"http://itunes.apple.com/app/id486244601"},"package":"com.kakao.story"}};b.link=function(c){function e(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")}function f(b){return function(){clearTimeout(b),a.removeEventListener("pagehide",arguments.callee)}}var g=d[c];return g?{send:function(b){var c=this.app;b.apiver=c.apiver;var d=c.base_url+e(b),g=function(b){return function(){a.location=c.store[b]}}(this.os);if("ios"==this.os){var h=setTimeout(g,2e3);a.addEventListener("pagehide",f(h)),a.location=d}else if("android"==this.os)if("android+chrome"==this.browser)a.location="intent:"+d+"#Intent;package="+c.package+";end;";else{var i=document.createElement("iframe");i.style.display="none",i.src=d,i.onload=g,document.body.appendChild(i)}},app:g,os:b.os,browser:b.browser}:{send:function(){throw"No App exists"}}}}(window),window.Shareable=function(a){var b,c,d;this.config=a,d=function(a,b){var c,d=document.getElementsByTagName("script")[0];document.getElementById(b)||(c=document.createElement("script"),c.id=b,c.src=a,d.parentNode.insertBefore(c,d))},b=function(){d("//connect.facebook.net/ko_KR/sdk.js","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:a.fb_app_id,xfbml:!0,version:"v2.1"})}},c=function(){var b,c;c=0,d("//developers.kakao.com/sdk/js/kakao.min.js","kakao-jssdk"),b=setInterval(function(){try{400>c&&Kakao.init(a.kakao_app_key),clearInterval(b)}catch(d){c++}},5)},a.fb_app_id&&b(),a.kakao_app_key&&c()},function(){Shareable.prototype.facebook=function(a){var a=a||location.href;navigator.userAgent.toLowerCase().match(/crios/)?location.href="https://www.facebook.com/dialog/share?app_id="+this.config.fb_app_id+"&display=popup&href="+a+"&redirect_uri="+location.href:FB.ui({method:"share",app_id:this.config.fb_app_id,display:"popup",href:a},function(){})}}(),function(){Shareable.prototype.kakaotalk=function(a,b,c,d){Kakao.Link.sendTalkLink({label:a,image:b,webButton:c,webLink:d})},Shareable.prototype.kakaostory=function(a,b){var a=a||location.href;navigator.userAgent.toLowerCase().match(/android|iphone/)?kakao.link("story").send(b):Kakao.Auth.login({success:function(){Kakao.API.request({url:"/v1/api/story/linkinfo",data:{url:a}}).then(function(a){return Kakao.API.request({url:"/v1/api/story/post/link",data:{link_info:a}})}).then(function(a){return Kakao.API.request({url:"/v1/api/story/mystory",data:{id:a.id}})}).then(function(a){console.log("success",JSON.stringify(a))},function(a){alert(JSON.stringify(a))})},fail:function(a){alert(JSON.stringify(a))}})}}(),function(){var a=function(a,b){var c,d,e=550,f=420,g=screen.height,h=screen.width;c=Math.round(h/2-e/2),d=0,g>f&&(d=Math.round(g/2-f/2)),window.open(a,"intent",b+",width="+e+",height="+f+",left="+c+",top="+d)};Shareable.prototype.twitter=function(b){var c=b.shareUrl||location.href,d="https://twitter.com/intent/tweet?url="+c;b.via&&(d+="&via="+b.via),b.text&&(d+="&text="+b.text),a(d,"scrollbars=yes,resizable=yes,toolbar=no,location=yes")}}();